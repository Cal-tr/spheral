#-------------------------------------------------------------------------------
# The general template
#-------------------------------------------------------------------------------
NestedGridNeighbor = Template("Spheral::NeighborSpace::NestedGridNeighbor",
                              "ExtendNestedGridNeighbor.hh")

#-------------------------------------------------------------------------------
# Exclusions.
#-------------------------------------------------------------------------------
exclude(NestedGridNeighbor.NeighborSearchType)
#exclude(NestedGridNeighbor.occupiedGridCells)
exclude(NestedGridNeighbor.gridLevel)
exclude(NestedGridNeighbor.setNestedMasterList)

#-------------------------------------------------------------------------------
# Policies
#-------------------------------------------------------------------------------
set_policy(NestedGridNeighbor.occupiedGridCells, return_internal_reference())

set_policy(NestedGridNeighbor.nodeListPtr, return_internal_reference())
set_policy(NestedGridNeighbor.gridCellSizeInv, return_internal_reference())
set_policy(NestedGridNeighbor.nodeInCell, return_internal_reference())
set_policy(NestedGridNeighbor.masterGridCellIndex, return_internal_reference())

#-------------------------------------------------------------------------------
# 1-D
#-------------------------------------------------------------------------------
NestedGridNeighbor1d = NestedGridNeighbor("Spheral::Dim<1>", "NestedGridNeighbor1d")
# add_method(NestedGridNeighbor1d, "wrapOccupiedGridCells1d")
# rename(NestedGridNeighbor1d.wrapOccupiedGridCells1d, "occupiedGridCells")
add_method(NestedGridNeighbor1d, "gridLevelForNode1d")
rename(NestedGridNeighbor1d.gridLevelForNode1d, "gridLevel")

#-------------------------------------------------------------------------------
# 2-D
#-------------------------------------------------------------------------------
NestedGridNeighbor2d = NestedGridNeighbor("Spheral::Dim<2>", "NestedGridNeighbor2d")
# add_method(NestedGridNeighbor2d, "wrapOccupiedGridCells2d")
# rename(NestedGridNeighbor2d.wrapOccupiedGridCells2d, "occupiedGridCells")
add_method(NestedGridNeighbor2d, "gridLevelForNode2d")
rename(NestedGridNeighbor2d.gridLevelForNode2d, "gridLevel")

#-------------------------------------------------------------------------------
# 3-D
#-------------------------------------------------------------------------------
NestedGridNeighbor3d = NestedGridNeighbor("Spheral::Dim<3>", "NestedGridNeighbor3d")
# add_method(NestedGridNeighbor3d, "wrapOccupiedGridCells3d")
# rename(NestedGridNeighbor3d.wrapOccupiedGridCells3d, "occupiedGridCells")
add_method(NestedGridNeighbor3d, "gridLevelForNode3d")
rename(NestedGridNeighbor3d.gridLevelForNode3d, "gridLevel")

